:root {
  /* ==================== */
  /* Static tokens        */
  /* ==================== */

  /* Spacing — generous for breathing room */
  --space-xs: 0.375rem;   /* 6px */
  --space-sm: 0.75rem;    /* 12px */
  --space-md: 1.25rem;    /* 20px */
  --space-lg: 2rem;       /* 32px */
  --space-xl: 3rem;       /* 48px */

  /* Border radius — large for card-based UI */
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  /* Spacing */
  --space-xs: 0.25rem;    /* 4px */
  --space-xs-plus: 0.375rem;  /* 6px */
  --space-sm: 0.5rem;     /* 8px */
  --space-sm-plus: 0.625rem;  /* 10px */
  --space-3: 0.75rem;     /* 12px */
  --space-md: 1rem;       /* 16px */
  --space-lg: 1.5rem;     /* 24px */
  --space-xl: 2rem;       /* 32px */

  /* Border radius */
  --radius-sm: 4px;
  --radius-md: 6px;
  --radius-lg: 8px;
  --radius-xl: 12px;
  --radius-full: 9999px;

  /* Typography */
  --font-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas, monospace;
  --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  --font-body: var(--font-sans);

  /* Font sizes */
  --text-2xs: 0.75rem;
  --text-xs: 0.8125rem;
  --text-sm: 0.9375rem;
  --text-base: 1rem;
  --text-lg: 1.25rem;

  /* Font weights */
  --font-weight-normal: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Layout */
  --app-max-width: 1100px;

  /* Transitions */
  --transition-fast: 150ms ease;
  --transition-normal: 200ms ease;

  /* ==================== */
  /* Light mode (default) */
  /* ==================== */

  /* Message role colors */
  --color-user: oklch(0.55 0.22 265);
  --color-assistant: oklch(0.6 0.18 145);
  --color-reasoning: oklch(0.5 0.25 280);
  --color-tool: oklch(0.6 0.18 60);
  --color-approval: oklch(0.6 0.18 60);
  --color-error: oklch(0.55 0.22 25);

  /* CLI Terminal Colors - Light */
  --cli-bg: oklch(0.98 0 0);
  --cli-bg-elevated: oklch(1 0 0);
  --cli-bg-user: oklch(0.6 0.18 145 / 0.12);
  --cli-text: oklch(0.25 0.02 260);
  --cli-text-dim: oklch(0.45 0.03 260);
  --cli-text-muted: oklch(0.7 0.03 260);
  --cli-prefix-user: oklch(0.55 0.22 265);
  --cli-prefix-agent: oklch(0.6 0.18 145);
  --cli-prefix-tool: oklch(0.6 0.18 60);
  --cli-prefix-reasoning: oklch(0.5 0.25 280);
  --cli-prefix-file: oklch(0.6 0.15 230);
  --cli-prefix-mcp: oklch(0.5 0.25 280);
  --cli-prefix-web: oklch(0.6 0.15 180);
  --cli-prefix-image: oklch(0.55 0.22 340);
  --cli-prefix-review: oklch(0.55 0.18 260);
  --cli-success: oklch(0.6 0.18 145);
  --cli-warning: oklch(0.6 0.18 60);
  --cli-error: oklch(0.55 0.22 25);
  --cli-info: oklch(0.7 0.11 250);
  --cli-border: oklch(0.92 0.01 260);
  --cli-bg-hover: oklch(0.96 0.01 260);
  --cli-selection: oklch(0.6 0.18 145 / 0.1);

  /* Chrome (non-code UI) */
  --color-bg: oklch(1 0 0);
  --color-bg-muted: oklch(0.98 0 0);
  --color-bg-code: oklch(0.2 0 0);
  --color-border: oklch(0.92 0.01 260);
  --color-border-strong: oklch(0.88 0.02 260);
  --color-text: oklch(0.2 0.02 260);
  --color-text-muted: oklch(0.5 0.03 260);
  --color-text-inverse: oklch(1 0 0);

  /* Button colors */
  --color-btn-primary-bg: oklch(0.2 0.02 260);
  --color-btn-primary-text: oklch(1 0 0);
  --color-btn-secondary-bg: oklch(0.96 0.01 260);
  --color-btn-secondary-text: oklch(0.3 0.02 260);
  --color-btn-danger-bg: oklch(0.95 0.03 25);
  --color-btn-danger-text: oklch(0.55 0.22 25);
  --color-btn-success-bg: oklch(0.96 0.04 145);
  --color-btn-success-text: oklch(0.6 0.18 145);

  /* Shadows */
  --shadow-sm: 0 1px 3px oklch(0 0 0 / 0.06), 0 1px 2px oklch(0 0 0 / 0.04);
  --shadow-md: 0 4px 12px -2px oklch(0 0 0 / 0.08), 0 2px 4px -1px oklch(0 0 0 / 0.04);
  --shadow-focus: 0 0 0 3px oklch(1 0 0 / 0.05);
  --shadow-popover: 0 4px 12px oklch(0 0 0 / 0.3);
  --shadow-card: 0 2px 8px oklch(0 0 0 / 0.06), 0 0 1px oklch(0 0 0 / 0.08);
  --shadow-card-hover: 0 4px 16px oklch(0 0 0 / 0.1), 0 0 1px oklch(0 0 0 / 0.1);
  --shadow-modal: 0 30px 80px oklch(0 0 0 / 0.35);

  /* UI surfaces */
  --cli-error-bg: oklch(0.55 0.22 25 / 0.1);
  --modal-overlay-bg: oklch(0.0273 0.0066 248.44 / 0.6);
  --bg-overlay: oklch(0 0 0 / 0.25);

  /* UI surfaces */
  --cli-error-bg: oklch(0.55 0.22 25 / 0.1);

  /* Sizes */
  --size-progress-width: 100px;
  --size-progress-height: 4px;
}

/* ==================== */
/* Dark mode            */
/* ==================== */

@media (prefers-color-scheme: dark) {
  :root:not([data-theme="light"]) {
    /* Message role colors - brighter for dark bg */
    --color-user: oklch(0.65 0.18 260);
    --color-assistant: oklch(0.7 0.16 145);
    --color-reasoning: oklch(0.7 0.16 280);
    --color-tool: oklch(0.75 0.15 60);
    --color-approval: oklch(0.75 0.15 60);
    --color-error: oklch(0.65 0.18 25);

    /* CLI Terminal Colors - Dark */
    --cli-bg: oklch(0.18 0 0);
    --cli-bg-elevated: oklch(0.22 0 0);
    --cli-bg-user: oklch(0.7 0.16 145 / 0.18);
    --cli-text: oklch(0.92 0.01 260);
    --cli-text-dim: oklch(0.7 0.03 260);
    --cli-text-muted: oklch(0.5 0.03 260);
    --cli-prefix-user: oklch(0.65 0.18 260);
    --cli-prefix-agent: oklch(0.7 0.16 145);
    --cli-prefix-tool: oklch(0.75 0.15 60);
    --cli-prefix-reasoning: oklch(0.7 0.16 280);
    --cli-prefix-file: oklch(0.75 0.12 230);
    --cli-prefix-mcp: oklch(0.7 0.16 280);
    --cli-prefix-web: oklch(0.75 0.12 180);
    --cli-prefix-image: oklch(0.7 0.18 340);
    --cli-prefix-review: oklch(0.7 0.14 260);
    --cli-success: oklch(0.7 0.16 145);
    --cli-warning: oklch(0.75 0.15 60);
    --cli-error: oklch(0.65 0.18 25);
    --cli-info: oklch(0.75 0.11 250);
    --cli-border: oklch(0.3 0.02 260);
    --cli-bg-hover: oklch(0.25 0 0);
    --cli-selection: oklch(0.7 0.16 145 / 0.2);

    /* Chrome (non-code UI) */
    --color-bg: oklch(0.15 0.02 260);
    --color-bg-muted: oklch(0.2 0.02 260);
    --color-bg-code: oklch(0.1 0 0);
    --color-border: oklch(0.3 0.02 260);
    --color-border-strong: oklch(0.4 0.03 260);
    --color-text: oklch(0.98 0 0);
    --color-text-muted: oklch(0.7 0.03 260);
    --color-text-inverse: oklch(0.15 0.02 260);

    /* Button colors */
    --color-btn-primary-bg: oklch(0.98 0 0);
    --color-btn-primary-text: oklch(0.15 0.02 260);
    --color-btn-secondary-bg: oklch(0.3 0.02 260);
    --color-btn-secondary-text: oklch(0.92 0.01 260);
    --color-btn-danger-bg: oklch(0.65 0.18 25 / 0.2);
    --color-btn-danger-text: oklch(0.65 0.18 25);
    --color-btn-success-bg: oklch(0.7 0.16 145 / 0.2);
    --color-btn-success-text: oklch(0.7 0.16 145);

    /* Shadows */
    --shadow-sm: 0 1px 3px oklch(0 0 0 / 0.3), 0 1px 2px oklch(0 0 0 / 0.2);
    --shadow-md: 0 4px 12px -2px oklch(0 0 0 / 0.4), 0 2px 4px -1px oklch(0 0 0 / 0.2);
    --shadow-focus: 0 0 0 3px oklch(1 0 0 / 0.05);
    --shadow-popover: 0 4px 12px oklch(0 0 0 / 0.3);
    --shadow-card: 0 2px 8px oklch(0 0 0 / 0.3), 0 0 1px oklch(0 0 0 / 0.4);
    --shadow-card-hover: 0 4px 16px oklch(0 0 0 / 0.4), 0 0 1px oklch(0 0 0 / 0.5);
    --shadow-modal: 0 30px 80px oklch(0 0 0 / 0.6);

    /* UI surfaces */
    --cli-error-bg: oklch(0.65 0.18 25 / 0.15);
    --modal-overlay-bg: oklch(0 0 0 / 0.8);
    --bg-overlay: oklch(0 0 0 / 0.25);

    /* UI surfaces */
    --cli-error-bg: oklch(0.65 0.18 25 / 0.15);

    /* Sizes */
    --size-progress-width: 100px;
    --size-progress-height: 4px;
  }
}

/* Manual dark mode override */
:root[data-theme="dark"] {
  /* Message role colors - brighter for dark bg */
  --color-user: oklch(0.65 0.18 260);
  --color-assistant: oklch(0.7 0.16 145);
  --color-reasoning: oklch(0.7 0.16 280);
  --color-tool: oklch(0.75 0.15 60);
  --color-approval: oklch(0.75 0.15 60);
  --color-error: oklch(0.65 0.18 25);

  /* CLI Terminal Colors - Dark */
  --cli-bg: oklch(0.18 0 0);
  --cli-bg-elevated: oklch(0.22 0 0);
  --cli-bg-user: oklch(0.7 0.16 145 / 0.18);
  --cli-text: oklch(0.92 0.01 260);
  --cli-text-dim: oklch(0.7 0.03 260);
  --cli-text-muted: oklch(0.5 0.03 260);
  --cli-prefix-user: oklch(0.65 0.18 260);
  --cli-prefix-agent: oklch(0.7 0.16 145);
  --cli-prefix-tool: oklch(0.75 0.15 60);
  --cli-prefix-reasoning: oklch(0.7 0.16 280);
  --cli-prefix-file: oklch(0.75 0.12 230);
  --cli-prefix-mcp: oklch(0.7 0.16 280);
  --cli-prefix-web: oklch(0.75 0.12 180);
  --cli-prefix-image: oklch(0.7 0.18 340);
  --cli-prefix-review: oklch(0.7 0.14 260);
  --cli-success: oklch(0.7 0.16 145);
  --cli-warning: oklch(0.75 0.15 60);
  --cli-error: oklch(0.65 0.18 25);
  --cli-border: oklch(0.3 0.02 260);
  --cli-bg-hover: oklch(0.25 0 0);
  --cli-selection: oklch(0.7 0.16 145 / 0.2);

  /* Chrome (non-code UI) */
  --color-bg: oklch(0.15 0.02 260);
  --color-bg-muted: oklch(0.2 0.02 260);
  --color-bg-code: oklch(0.1 0 0);
  --color-border: oklch(0.3 0.02 260);
  --color-border-strong: oklch(0.4 0.03 260);
  --color-text: oklch(0.98 0 0);
  --color-text-muted: oklch(0.7 0.03 260);
  --color-text-inverse: oklch(0.15 0.02 260);

  /* Button colors */
  --color-btn-primary-bg: oklch(0.98 0 0);
  --color-btn-primary-text: oklch(0.15 0.02 260);
  --color-btn-secondary-bg: oklch(0.3 0.02 260);
  --color-btn-secondary-text: oklch(0.92 0.01 260);
  --color-btn-danger-bg: oklch(0.65 0.18 25 / 0.2);
  --color-btn-danger-text: oklch(0.65 0.18 25);
  --color-btn-success-bg: oklch(0.7 0.16 145 / 0.2);
  --color-btn-success-text: oklch(0.7 0.16 145);

  /* Shadows */
  --shadow-sm: 0 1px 3px oklch(0 0 0 / 0.3), 0 1px 2px oklch(0 0 0 / 0.2);
  --shadow-md: 0 4px 12px -2px oklch(0 0 0 / 0.4), 0 2px 4px -1px oklch(0 0 0 / 0.2);
  --shadow-focus: 0 0 0 3px oklch(1 0 0 / 0.05);
  --shadow-popover: 0 4px 12px oklch(0 0 0 / 0.3);
  --shadow-card: 0 2px 8px oklch(0 0 0 / 0.3), 0 0 1px oklch(0 0 0 / 0.4);
  --shadow-card-hover: 0 4px 16px oklch(0 0 0 / 0.4), 0 0 1px oklch(0 0 0 / 0.5);

  /* UI surfaces */
  --cli-error-bg: oklch(0.65 0.18 25 / 0.15);

  /* Sizes */
  --size-progress-width: 100px;
  --size-progress-height: 4px;
}
